<?xml version="1.0" encoding="utf-8" ?>
<osmand_routing_config defaultProfile="pedestrian-shade" name="shade-1">
	<!-- 1. parameters of routing and different tweaks Influence on A* : -->
	<!-- f(x) + heuristicCoefficient*g(X) -->
	<!-- TEMPORARY needs to be reverted to 1 -->
	<attribute name="heuristicCoefficient" value="" />

	<!-- 1.1 tile load parameters (should not affect routing) -->
	<!-- by default 16 -->
	<attribute name="zoomToLoadTiles" value="16" />
	<!--  by default it is 30. Value specified here overwrites all others
			 (don't specify here ! it is device dependent)  -->
	<attribute name="memoryLimitInMB" value="" />
	<attribute name="nativeMemoryLimitInMB" value="" />

	<!-- 1.2 Build A* graph in backward/forward direction (can affect results) -->
	<!-- 0 - 2 ways, 1 - direct way, -1 - reverse way -->
	<attribute name="planRoadDirection" value="0" />

	<!-- 1.3 When there is a query to recalculate route, -->
	<!-- recalculate smart using old route within N-meters (0 recalculate fresh, default 10km)  -->
	<attribute name="recalculateDistanceHelp" value="10000" />

    <routingProfile name="pedestrian-shade" baseProfile="pedestrian" restrictionsAware="false" minSpeed="2" defaultSpeed="4" maxSpeed="10" sharpTurn="0" slightTurn="0" followSpeedLimitations="false" onewayAware="false">
		<attribute name="penaltyForReverseDirection" value="10" /> <!-- foot: almost zero time to turn around -->

		<attribute name="heuristicCoefficient" value="1.2" />
		<!-- NEW ROUTING API -->
		<parameter id="avoid_ferries" name="Avoid ferries" description="Avoid ferries" type="boolean"/>
		<parameter id="avoid_motorway" name="Avoid motorways" description="Avoid motorways" type="boolean"/>
		<parameter id="avoid_tunnels" name="Avoid tunnels" description="Avoid tunnels" type="boolean"/>
		<parameter id="avoid_stairs" name="Avoid stairs" description="Avoid stairs" type="boolean"/>
		<parameter id="avoid_caca" name="Avoid caca" description="Avoid caca" type="boolean"/>
		<parameter id="hour" name="Hour" description="Hour" type="numeric" values="0,1,2,3,4,5,6,7" valueDescriptions="0h,1h,2h,3h,4h,5h,6h,7h"/>
		<parameter id="avoid_unpaved" name="Avoid unpaved roads" description="Avoid unpaved roads" type="boolean"/>
		<parameter id="allow_private" name="Allow private access" description="Allow access to private areas" type="boolean"/>
		<parameter id="allow_via_ferrata" name="Allow via ferrata" description="Allow via ferrata paths" type="boolean"/>
		<parameter id="height_obstacles" name="Use elevation data" description="Use terrain elevation data provided by SRTM, ASTER and EU-DEM" type="boolean" default="true"/>
		<parameter id="relief_smoothness_factor_more_plains" group="relief_smoothness_factor" name="More plains" description="" type="boolean"/>
		<parameter id="relief_smoothness_factor_plains" group="relief_smoothness_factor" name="Plains" description="" type="boolean" default="true"/>
		<parameter id="relief_smoothness_factor_hills" group="relief_smoothness_factor" name="Hills" description="" type="boolean"/>
		<parameter id="prefer_hiking_routes" name="Prefer hiking routes" description="Prefer hiking routes" type="boolean"/>
		<parameter id="prefer_tactile_paving" name="Prefer tactile paving" description="Prefer tactile paving" type="boolean"/>

		<way attribute="area">
			<select value="1"  t="railway" v="platform"/>
			<select value="1"  t="public_transport" v="platform"/>
			<select value="0"/>
		</way>

		<way attribute="access">
			<select value="-1" t="osmand_change" v="delete"/>
			<select value="-1" t="highway" v="proposed"/>
			<select value="-1" t="highway" v="construction"/>
			<select value="-1" t="construction" v="yes"/>

			<if param="avoid_motorway">
				<select value="-1" t="highway" v="motorway"/>
				<select value="-1" t="highway" v="motorway_link"/>
				<select value="-1" t="highway" v="trunk"/>
				<select value="-1" t="highway" v="trunk_link"/>
			</if>

			<if param="avoid_stairs">
				<select value="-1" t="highway" v="steps"/>
			</if>

			<if param="avoid_ferries">
				<select value="-1" t="route" v="ferry"/>
			</if>
			<select value="-1" t="foot" v="no"/>
			<select value="1"  t="foot" v="yes"/>
			<select value="1"  t="foot" v="permissive"/>
			<select value="1"  t="foot" v="designated"/>
			<select value="1"  t="foot" v="destination"/>
			<select value="1"  t="foot" v="official"/>
			<!-- <select value="-1"  t="foot" v="use_sidepath"/> Already done by an entity_convert when creating the map files -->

			<select value="-1" t="access" v="no"/>
			<if param="allow_private">
				<select value="1"  t="access" v="private"/>
			</if>
			<select value="-1" t="access" v="private"/>
			<select value="1"  t="access" v="yes"/>
			<select value="1"  t="access" v="permissive"/>

			<if param="allow_via_ferrata">
				<select value="1" t="highway" v="via_ferrata"/>
			</if>

			<select value="1" t="highway" v="motorway"/>
			<select value="1" t="highway" v="motorway_link"/>
			<select value="1" t="highway" v="trunk"/>
			<select value="1" t="highway" v="trunk_link"/>
			<select value="1" t="highway" v="primary"/>
			<select value="1" t="highway" v="primary_link"/>
			<select value="1" t="highway" v="secondary"/>
			<select value="1" t="highway" v="secondary_link"/>
			<select value="1" t="highway" v="tertiary"/>
			<select value="1" t="highway" v="tertiary_link"/>
			<select value="1" t="highway" v="road"/>
			<select value="1" t="highway" v="residential"/>
			<select value="1" t="highway" v="cycleway"/>
			<select value="1" t="highway" v="unclassified"/>
			<select value="1" t="highway" v="service"/>
			<select value="1" t="highway" v="track"/>
			<select value="1" t="highway" v="path"/>
			<select value="1" t="highway" v="living_street"/>
			<select value="1" t="highway" v="pedestrian"/>
			<select value="1" t="highway" v="footway"/>
			<select value="1" t="railway" v="platform"/>
			<select value="1" t="public_transport" v="platform"/>
			<select value="1" t="man_made" v="pier"/>
			<select value="1" t="highway" v="bridleway"/>
			<select value="1" t="highway" v="steps"/>
			<select value="1" t="highway" v="elevator"/>
			<select value="1" t="route" v="ferry"/>
			<select value="-1"/>
		</way>

		<way attribute="oneway">
			<select value="0" t="oneway:foot" v="no"/>
			<select value="1" t="oneway:foot" v="yes"/>
			<select value="1" t="foot:backward" v="no"/>
			<select value="-1" t="foot:forward" v="no"/>
			<select value="1" t="conveying" v="forward"/>
			<select value="-1" t="conveying" v="backward"/>
		</way>


		<way attribute="speed" type="speed">
			<!-- do not decrease speed for steps -->
			<!-- <select value="1" t="highway" v="steps"/> -->
			<!-- for other roads defaultSpeed is used -->
			<!-- Use same speed everywhere to allow user easier control speed -->
		</way>

		<way attribute="obstacle_srtm_alt_speed">
			<if param="height_obstacles">
				<select value="0" t="highway" v="via_ferrata"/>
				<gt value1="-100" value2=":incline">
					<select value="40"/>
				</gt>
				<gt value1="-60" value2=":incline">
					<select value="25"/>
				</gt>
				<gt value1="-35" value2=":incline">
					<select value="17"/>
				</gt>
				<gt value1="-17" value2=":incline">
					<select value="10"/>
				</gt>
				<gt value1="-9" value2=":incline">
					<select value="5"/>
				</gt>
				<if param="relief_smoothness_factor_more_plains">
					<gt value1="3" value2=":incline">
						<select value="2"/>
					</gt>
					<gt value1="7" value2=":incline">
						<select value="12"/>
					</gt>
					<gt value1="13" value2=":incline">
						<select value="30"/>
					</gt>
					<gt value1="25" value2=":incline">
						<select value="50"/>
					</gt>
					<select value="74"/>
				</if>
				<if param="relief_smoothness_factor_hills">
					<gt value1="1" value2=":incline">
						<select value="61"/>
					</gt>
					<gt value1="3" value2=":incline">
						<select value="20"/>
					</gt>
					<gt value1="7" value2=":incline">
						<select value="7"/>
					</gt>
					<gt value1="13" value2=":incline">
						<select value="3"/>
					</gt>
					<gt value1="25" value2=":incline">
						<select value="0.5"/>
					</gt>
					<select value="0.3"/>
				</if>
				<gt value1="3" value2=":incline">
					<select value="1"/>
				</gt>
				<gt value1="7" value2=":incline">
					<select value="4"/>
				</gt>
				<gt value1="13" value2=":incline">
					<select value="8"/>
				</gt>
				<gt value1="25" value2=":incline">
					<select value="10"/>
				</gt>
				<select value="15"/>
			</if>
		</way>

		<way attribute="priority">
			<!-- Additional tags -->
			<select value="0.05" t="foot" v="private"/>
			<select value="0.05" t="foot" v="destination"/>

			<!-- Q? access=destination should not be used foot or what is the proposed scheme
			http://www.openstreetmap.org/way/173188624#map=18/39.56805/2.64846
			should be 
			<select value="0.05" t="access" v="private"/>
			<select value="0.05" t="access" v="destination"/> -->
			<select value="1.1" t="foot" v="designated"/>
			<select value="1.2" t="sidewalk" v="yes"/>
			<select value="0.9" t="sidewalk" v="no"/>

			<if param="avoid_tunnels">
				<select value="0.02" t="tunnel" v="yes"/>
			</if>

			<!-- object tags -->
			<if param="prefer_tactile_paving">
				<select value="5" t="tactile_paving" v="yes"/>
			</if>
			<if param="prefer_hiking_routes">
				<select value="10" t="route_hiking"/>
			</if>
			<select value="0.7" t="highway" v="motorway"/>
			<select value="0.7" t="highway" v="motorway_link"/>
			<select value="0.7" t="highway" v="trunk"/>
			<select value="0.7" t="highway" v="trunk_link"/>
			<select value="0.8" t="highway" v="bridleway"/>
			<select value="0.9" t="highway" v="service"/>
			<select value="0.9" t="highway" v="primary"/>
			<select value="0.9" t="highway" v="primary_link"/>
			<select value="0.9" t="highway" v="secondary"/>
			<select value="0.9" t="highway" v="secondary_link"/>
			<select value="0.9" t="highway" v="tertiary"/>
			<select value="0.9" t="highway" v="tertiary_link"/>
			<select value="1"   t="route"   v="ferry"/>
			<select value="1.1" t="highway" v="residential"/>
			<if param="avoid_unpaved">
				<select value="0.4" t="tracktype" v="grade2"/>
				<select value="0.1" t="tracktype" v="grade3"/>
				<select value="0.1" t="tracktype" v="grade4"/>
				<select value="0.1" t="tracktype" v="grade5"/>
				<select value="0.1" t="surface" v="unpaved"/>
				<select value="0.4" t="surface" v="compacted"/>
				<select value="0.1" t="surface" v="dirt"/>
				<select value="0.1" t="surface" v="earth"/>
				<select value="0.1" t="surface" v="gravel"/>
				<select value="0.4" t="surface" v="fine_gravel"/>
				<select value="0.1" t="surface" v="grass"/>
				<select value="0.1" t="surface" v="ground"/>
				<select value="0.1" t="surface" v="mud"/>
				<select value="0.1" t="surface" v="pebblestone"/>
				<select value="0.1" t="surface" v="sand"/>
			</if>
			<select value="1.25" t="highway" v="elevator"/>
			<select value="1.2" t="highway" v="steps"/>
			<select value="1.2" t="highway" v="living_street"/>
			<select value="1.2" t="highway" v="pedestrian"/>
			<select value="1.2" t="highway" v="footway"/>
			<select value="1.2" t="highway" v="path"/>


			<select value="1"/>
		</way>

		<point attribute="obstacle_time">
			<select value="5" t="highway" v="traffic_signals"/>
			<select value="10" t="crossing" v="unmarked"/>
			<select value="5"  t="crossing" v="uncontrolled"/>
			<select value="30" t="crossing" v="traffic_signals"/>
			<select value="5" t="highway" v="crossing"/>
			<select value="5" t="ford" />
			<select value="5" t="railway" v="crossing" />
			<select value="5" t="railway" v="level_crossing"/>
		</point>

		<point attribute="obstacle">
			<select value="-1" t="foot" v="no"/>
			<select value="-1"  t="foot" v="private"/>
			<select value="120"  t="foot" v="destination"/>
			<select value="0"  t="foot" v="yes"/>
			<select value="0"  t="foot" v="permissive"/>
			<select value="0"  t="foot" v="designated"/>
			<select value="0"  t="foot" v="official"/>

			<select value="-1" t="access" v="no"/>
			<if param="allow_private">
				<select value="180"  t="access" v="private"/>
			</if>
			<select value="-1"  t="access" v="private"/>
			<select value="120"  t="access" v="destination"/>

			<select value="0"  t="access" v="yes"/>
			<select value="0"  t="access" v="permissive"/>
			<select value="300" t="amenity" v="ferry_terminal"/>

		</point>

		<way attribute="penalty_transition">
			<if param="avoid_tunnels">
				<select value="200" t="tunnel" v="yes"/>
				<select value="150" t="tunnel" v="avalanche_protector"/>
			</if>
			<select value="0" t="route"   v="ferry"/>
			<select value="0" t="highway" v="steps"/>
			<select value="0" t="highway" v="elevator"/>
			<select value="0" t="highway" v="living_street"/>
			<select value="0" t="highway" v="pedestrian"/>
			<select value="0" t="highway" v="footway"/>
			<select value="0" t="highway" v="path"/>
			<select value="0" t="sidewalk" v="yes"/>
			<select value="0" t="sidewalk" v="both"/>
			<select value="0" t="foot" v="yes"/>
			<select value="0" t="foot" v="designated"/>
			<select value="0" t="public_transport" v="platform"/>
			<select value="0"  t="railway" v="platform"/>
			<select value="0" t="service" v="alley"/>
			<!-- give highway penalty to use mostly footways if available-->
			<select value="10" t="highway" v="residential"/>
			<select value="20" t="highway" v="service"/>
			<select value="90"/>
			
		</way>
	</routingProfile>
</osmand_routing_config>